# README проекта K3s с тремя веб-приложениями

## Описание проекта

Этот проект является продолжением предыдущего задания, где были настроены две виртуальные машины и установлен кластер K3s. Теперь вам необходимо использовать одну из этих машин для развертывания и настройки трех веб-приложений. Цель — обеспечить доступ к каждому приложению через разные HOST-адреса при обращении по IP **192.168.56.110**.

## Требования

- Используется одна виртуальная машина с IP **192.168.56.110** (например, `nicknameS` из предыдущего задания).  
- K3s должен быть установлен в режиме сервера.  
- Настройка трех веб-приложений с доступом через разные HOST-адреса:  
  - `app1.com` отображает первое приложение.  
  - `app2.com` отображает второе приложение.  
  - Любой другой запрос по умолчанию отображает третье приложение.  

## Инструкция по выполнению

### Подготовка среды

1. Убедитесь, что K3s установлен и запущен на виртуальной машине:
   ```bash
   curl -sfL https://get.k3s.io | sh -
   ```
2. Проверьте статус узлов:
   ```bash
   kubectl get nodes
   ```

### Развертывание веб-приложений

1. Создайте манифесты для каждого приложения (Deployment и Service).
2. Примените их в кластере:
   ```bash
   kubectl apply -f app1.yaml
   kubectl apply -f app2.yaml
   kubectl apply -f app3.yaml
   ```

### Настройка маршрутизации

1. Создайте манифест Ingress для маршрутизации запросов в зависимости от HOST.
2. Пример правила для Ingress:
   ```yaml
   apiVersion: networking.k8s.io/v1
   kind: Ingress
   metadata:
     name: app-ingress
   spec:
     rules:
       - host: app1.com
         http:
           paths:
             - path: /
               pathType: Prefix
               backend:
                 service:
                   name: app1-service
                   port:
                     number: 80
       - host: app2.com
         http:
           paths:
             - path: /
               pathType: Prefix
               backend:
                 service:
                   name: app2-service
                   port:
                     number: 80
       - host: app3.com
         http:
           paths:
             - path: /
               pathType: Prefix
               backend:
                 service:
                   name: app3-service
                   port:
                     number: 80
   ```

### Настройка локального тестирования

1. Добавьте записи в файл `/etc/hosts` на вашей локальной машине:
   ```
   192.168.56.110 app1.com app2.com app3.com
   ```

### Проверка работы

1. Откройте браузер и убедитесь, что приложения доступны по соответствующим адресам.

## Завершение работы

- Остановите кластер K3s, если требуется:
  ```bash
  systemctl stop k3s
  ```
- Очистите кластер:
  ```bash
  kubectl delete all --all
  ```

## Примечание

Настройка Ingress не детализируется в данном руководстве. Эту часть вы должны продемонстрировать на защите проекта.


